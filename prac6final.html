<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Smart Resume Data Extractor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
        }
        textarea {
            width: 100%;
            height: 200px;
            margin-bottom: 20px;
            font-family: monospace;
            font-size: 14px;
        }
        pre {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 5px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <h1>Smart Resume Data Extractor</h1>

    <label for="resumeInput">Paste your raw resume text below:</label><br/>
    <textarea id="resumeInput" placeholder="Paste resume text here..."></textarea><br/>

    <button onclick="runExtractor()">Process Resume</button>

    <h2>Extracted Output:</h2>
    <pre id="output"></pre>

    <script>
        function formatName(rawName) {
            rawName = rawName.trim().toLowerCase();
            let words = rawName.split(/\s+/);
            let formattedWords = words.map(word => {
                if (word.includes("'")) {
                    return word
                        .split("'")
                        .map(part => part.charAt(0).toUpperCase() + part.slice(1))
                        .join("'");
                } else {
                    return word.charAt(0).toUpperCase() + word.slice(1);
                }
            });
            return formattedWords.join(" ");
        }

        function extractEmails(text) {
            let emailRegex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g;
            let emails = text.match(emailRegex) || [];
            return emails.map(email => email.toLowerCase());
        }

        function validateMobile(number) {
            let cleanNumber = number.trim();
            let validRegex = /^[6-9]\d{9}$/;
            return validRegex.test(cleanNumber) ? cleanNumber : "Invalid phone number";
        }

        function processSkills(rawSkills) {
            return rawSkills
                .split(',')
                .map(skill => skill.trim())
                .filter(skill => skill.length > 0)
                .join(', ');
        }

        function extractHashtags(text) {
            let hashtagRegex = /#[a-zA-Z0-9_]+/g;
            let hashtags = text.match(hashtagRegex) || [];
            return hashtags.join(' ');
        }

        function countWords(text) {
            let words = text
                .replace(/\n/g, ' ')
                .split(/\s+/)
                .filter(word => word.trim().length > 0);
            return words.length;
        }

        function countVowels(text) {
            let match = text.match(/[aeiouAEIOU]/g);
            return match ? match.length : 0;
        }

        function processResume(resumeText) {
            let output = {};

            let nameMatch = resumeText.match(/Name:\s*(.+)/i);
            output.name = nameMatch ? formatName(nameMatch[1]) : "N/A";

            let emails = extractEmails(resumeText);
            output.email = emails[0] || "N/A";
            output.emailCount = emails.length;

            let phoneMatch = resumeText.match(/Phone:\s*(\d{10})/i);
            output.phone = phoneMatch ? validateMobile(phoneMatch[1]) : "Invalid phone number";

            let skillsMatch = resumeText.match(/Skills:\s*(.+)/i);
            output.skills = skillsMatch ? processSkills(skillsMatch[1]) : "";

            output.hashtags = extractHashtags(resumeText);
            output.wordCount = countWords(resumeText);
            output.vowelCount = countVowels(resumeText);

            return output;
        }

        function runExtractor() {
            let resumeText = document.getElementById('resumeInput').value;
            let result = processResume(resumeText);
            document.getElementById('output').innerText = JSON.stringify(result, null, 4);
        }
    </script>

</body>

</html>
